import { Application, ApplicationDocument } from 'src/entity/application';
import { Subject, Observable } from 'rxjs';
import { ApplicationDto } from 'src/dto/application-dto';
import { UserForm } from 'src/dto/user-form';
import { Module, ModuleDocument } from 'src/entity/module';
import { Role, RoleDocument } from 'src/entity/role';
import { User, UserDocument } from 'src/entity/user';
import { UserManagement } from './user-manager';
import { CategoryUser, CategoryUserDocument } from 'src/entity/category';
import { AccountActivation, AccountActivationDocument } from 'src/entity/account-activation';
import { FileDocument } from 'src/entity/file';
import mongoose, { Model } from 'mongoose';
import { MailerService } from '@nestjs-modules/mailer';
import { ModuleDto } from 'src/dto/module-dto';
import { ModulesPrivilegesDto, RoleDto, RoleSimpleDto } from 'src/dto/role-module-dto';
export declare class UserService implements UserManagement {
    private readonly userrModel;
    private readonly roleModel;
    private readonly appModel;
    private readonly moduleModel;
    private readonly categoryModel;
    private readonly acModel;
    private readonly FileModel;
    private mailerService;
    private readonly connection;
    rgx: (pattern: any) => RegExp;
    constructor(userrModel: Model<UserDocument>, roleModel: Model<RoleDocument>, appModel: Model<ApplicationDocument>, moduleModel: Model<ModuleDocument>, categoryModel: Model<CategoryUserDocument>, acModel: Model<AccountActivationDocument>, FileModel: Model<FileDocument>, mailerService: MailerService, connection: mongoose.Connection);
    findModuleOfRole(module: string): Subject<Module>;
    changeModulePrivilegeOfApp(role: string, data: ModulesPrivilegesDto, app: string): Subject<void>;
    addModule(module: ModuleDto): Subject<void>;
    addModules(modules: ModuleDto[]): Subject<void>;
    addRoles(roles: RoleSimpleDto[]): Observable<void>;
    addRole(role: RoleSimpleDto): Subject<void>;
    findModuleOfApp(app: string, id: string): Subject<Module>;
    findRoleOfApp(app: string, id: string): Subject<Role>;
    addModuleToRole(module: ModulesPrivilegesDto, role: string, app: string): Observable<Role>;
    appHasRole(app: string, role: string): Subject<boolean>;
    appHasModule(app: string, module: string): Subject<boolean>;
    addModulesToApp(modules: Module[], app: string): Observable<Module[]>;
    changePassword(idaccount: User, hashPwd: string): Subject<User>;
    getUsersByApp(app: string): Observable<User[]>;
    activation(code: string): Subject<User>;
    requestActivation(username: string, app: string): Subject<AccountActivation>;
    getCategories(): Observable<CategoryUser[]>;
    addCategory(c: CategoryUser): Observable<CategoryUser>;
    getUsers(): Observable<User[]>;
    getRoles(): Observable<Role[]>;
    findAppByCode(code: string): Subject<Application>;
    findAppByEmailOrPhone(email: string, phone: string): Subject<Application>;
    findByUsernameOrPhoneOrEmailAndApp(username: string, phone: string, email: string, app: string): Subject<User>;
    addUser(data: UserForm): Subject<User>;
    addApp(data: ApplicationDto): Subject<Application>;
    editApp(id: string, data: ApplicationDto, user: string): Subject<Application>;
    getApp(id: string): Subject<Application>;
    searchApp(pattern: string): Observable<Application[]>;
    getApps(): Observable<Application[]>;
    getUser(id: string): Subject<User>;
    findByUsername(username: string): Subject<User>;
    findByUsernameAndApp(username: string, app: any): Subject<User>;
    getModules(): Observable<Module[]>;
    addModuleToApp(modules: ModuleDto, app: string): Subject<void>;
    addModulesToRole(modules: ModulesPrivilegesDto[], role: string, app: string): Observable<Role>;
    editModule(id: string, data: Module, user: User, app: string): Subject<Module>;
    addRoleToApp(role: RoleDto, app: string): Subject<void>;
    addRolesToUser(roles: Role[], user: User, doneBy: User): Subject<User>;
    removeRolesFromUser(roles: Role[], user: User, doneBy: User): Subject<User>;
    enableUser(user: User, doneBy: User): Subject<boolean>;
    disableUser(user: User, doneBy: User): Subject<boolean>;
}
